<script type="text/javascript" language="Javascript">

var groupings_table = null;

document.observe("dom:loaded", function() {
  groupings_table = new FilterTable({
    table_id: $('groups'),
    headers: $H({
      name: {display: "Name", sortable: true},
      members: {display: "Members", sortable: true},
      graders: {display: "Graders", sortable: true},
      valid: {display: "", sortable: false}
    }),
    can_select: true,
    can_select_all: true,
    can_sort: true,
    row_prefix: "groupings_row_",
    select_name: "groupings[]",
    select_id_prefix: "grouping_select_",
    footer: true,
    filters: {
      validated: function(row) {
        return row.filter_valid;
      },
      unvalidated: function(row) {
        return !row.filter_valid;
      },
      assigned: function(row) {
        return row.filter_assigned;
      },
      unassigned: function(row) {
        return !row.filter_assigned;
      }
    }
  });
  
  <%= remote_function :url => {:action => 'populate', :id => @assignment.id}, :complete => "$('loading_list').hide();" %>
});

</script>
