<script>
  function load_feedback_file(feedback_file_id) {
    jQuery('select_feedback_file_id').prop( "disabled", true);
    jQuery.ajax({
      url: '<%= render_feedback_file_assignment_path(id: @assignment.id) %>',
      type: 'GET',
      data: 'feedback_file_id=' + feedback_file_id,
      beforeSend: function(){
        document.getElementById('working').style.display = '';
      },
      complete: function(){
        document.getElementById('working').style.display = 'none';
      },
      success: function (data) {
        feedback_file_html = data;
        jQuery('#feedback_file_content').html(feedback_file_html);
      },
      error: function () {
        jQuery('#feedback_file_content').html('Error retrieving feedback file');
      }
    });
    jQuery('select_feedback_file_id').prop( "disabled", false);
  }
</script>