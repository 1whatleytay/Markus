$criteria_list = $('#mark_criteria_pane_list>li:not(.unassigned)');

Mousetrap.bind('shift+,', function(){
  $('#student_selector>.left>a')[0].click();
});
Mousetrap.bind('shift+.', function(){
  $('#student_selector>.right>a')[0].click();
});
Mousetrap.bind('tab', function(e){
  console.log("tab");
  $next_criteria = $criteria_list.first();
  $criteria_list.each(function(){
      if($(this).hasClass('active-criteria')){
          $next_criteria = $(this).next('li:not(.unassigned)');
      }
  });
  activeCriteria($next_criteria);
  return false;
});
// Mousetrap is incapable of capturing a TAB event while focused on an input field
$('body').on('keydown', '.mark_grade_input', function(e) {
    if (e.which == 9) {
        e.preventDefault();
        Mousetrap.trigger('tab');
    }
});
Mousetrap.bind(['right','left'], function () {
  $current_criteria = $('.active-criteria');
  if($current_criteria.length && !$current_criteria.hasClass('unassigned')){
     if($current_criteria.hasClass('checkbox_criterion')){
         $current_criteria.find('.mark_grade_input_checkbox:not(:checked)').click();
     }
  }
});
