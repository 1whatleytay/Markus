<%
# Erb template for display flexible criterion in the grader view
%>

<%
  if mark_criterion.description != ''
    title_class = 'criterion_title expandable'
  else
    title_class = 'criterion_title unexpandable' -%>
<% end -%>

<li id='<%= "mark_criterion_#{mark_criterion.id}" %>' class='flexible_criterion expanded'>

  <!--Mark update info -->
  <div id='mark_verify_result_<%=mark.id%>' class='error' style='display:none;'>
    <%= t('marker.marks.invalid_mark') %>
  </div>

  <div class='<%= title_class %>' id='<%= "mark_criterion_title_#{mark_criterion.id}"%>'>

    <div id='<%="mark_criterion_title_#{mark_criterion.id}_expand"%>'
      class='criterion_expand'
      onclick='<%="focus_mark_criterion(#{mark_criterion.id})"%>'>
      - &nbsp;
    </div>

    <%= render partial: 'results/common/flexible_criterion',
               locals: {mark_criterion: mark_criterion,
                        mark: mark,
                        old_mark: old_mark,
                        view: 'marker'} %>
  </div>
</li>
