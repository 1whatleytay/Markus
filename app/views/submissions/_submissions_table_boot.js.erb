<script type="text/javascript" language="Javascript">

var submissions_table = null;

document.observe("dom:loaded", function() {
  submissions_table = new FilterTable({
    table_id: $('submissions'),
    headers: {
      group_name: {display: "Group Name", sortable: true},
      repository: {display: "Repository", sortable: true},
      members: {display: "Members", sortable: true},
      commit_date: {display: "Commit Date", sortable: true},
      marking_state: {display: "Marking State", sortable: true},
      final_grade: {display: "Final Grade", sortable: true},
      released: {display: "Released", sortable: true}
    },
    can_select: true,
    can_select_all: true,
    can_sort: true,
    row_prefix: "submissions_row_",
    select_name: "submissions[]",
    select_id_prefix: "submission_select_",
    footer: true
    /*
    sorts: {
      last_modified_date: function(a, b) {
        return new Date(a['last_modified_date_unconverted']) < new Date(b['last_modified_date_unconverted']);
      }
    }*/
  });
  
  <%= remote_function :url => {:action => 'populate_submissions_table', :id => @assignment.id}, :complete => "$('loading_list').hide();" %>
});

</script>
